<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extrator de Playlist do YouTube</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Extrator de Playlist do YouTube</h1>
            <p>Extraia dados e capturas de tela de qualquer playlist do YouTube</p>
        </header>

        <main>
            <section class="input-section">
                <div class="card">
                    <h2>Insira o link da playlist</h2>
                    <form id="playlist-form">
                        <div class="input-group">
                            <input type="url" id="playlist-url" placeholder="https://www.youtube.com/playlist?list=..." required>
                            <button type="submit" id="extract-btn">
                                <i class="fas fa-download"></i> Extrair Dados
                            </button>
                        </div>
                        <p class="hint">Cole o link completo da playlist do YouTube</p>
                        
                        <div class="api-key-section">
                            <details>
                                <summary>Configuração Avançada (Opcional)</summary>
                                <div class="api-key-container">
                                    <label for="api-key">Chave de API do YouTube (opcional):</label>
                                    <input type="text" id="api-key" placeholder="AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX">
                                    <p class="api-hint">
                                        A chave de API melhora o desempenho e a precisão dos dados extraídos.
                                        <a href="#" id="api-instructions-link">Como obter uma chave de API</a>
                                    </p>
                                </div>
                            </details>
                        </div>
                    </form>
                </div>
            </section>

            <section class="progress-section hidden" id="progress-section">
                <div class="card">
                    <h2>Processando Playlist</h2>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress" id="progress-bar"></div>
                        </div>
                        <div class="progress-text">
                            <span id="progress-percentage">0%</span>
                            <span id="progress-status">Iniciando...</span>
                        </div>
                    </div>
                    <div class="progress-details">
                        <p>Vídeos processados: <span id="videos-processed">0</span>/<span id="videos-total">0</span></p>
                        <p id="current-video-title">Aguardando...</p>
                    </div>
                </div>
            </section>

            <section class="results-section hidden" id="results-section">
                <div class="card">
                    <h2>Extração Concluída</h2>
                    <div class="results-info">
                        <p>Todos os dados foram extraídos com sucesso!</p>
                        <div class="stats">
                            <div class="stat-item">
                                <i class="fas fa-film"></i>
                                <span id="total-videos">0</span>
                                <span>Vídeos</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-image"></i>
                                <span id="total-screenshots">0</span>
                                <span>Capturas</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-clock"></i>
                                <span id="total-time">0:00</span>
                                <span>Tempo Total</span>
                            </div>
                        </div>
                    </div>
                    <div class="download-buttons">
                        <button id="download-excel" class="download-btn excel">
                            <i class="fas fa-file-excel"></i> Baixar Planilha Excel
                        </button>
                        <button id="download-word" class="download-btn word">
                            <i class="fas fa-file-word"></i> Baixar Documento Word
                        </button>
                    </div>
                </div>
            </section>

            <section class="error-section hidden" id="error-section">
                <div class="card error-card">
                    <h2>Ocorreu um Erro</h2>
                    <p id="error-message">Não foi possível processar a playlist.</p>
                    <button id="try-again-btn" class="try-again-btn">
                        <i class="fas fa-redo"></i> Tentar Novamente
                    </button>
                </div>
            </section>
            
            <!-- API Instructions Modal -->
            <div id="api-modal" class="modal hidden">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                    <h2>Como obter uma chave de API do YouTube</h2>
                    <div class="modal-body">
                        <p>Siga estes passos para criar sua própria chave de API gratuita:</p>
                        <ol>
                            <li>Acesse o <a href="https://console.cloud.google.com/" target="_blank">Google Cloud Console</a></li>
                            <li>Crie um novo projeto ou selecione um existente</li>
                            <li>No menu lateral, clique em "APIs e serviços" > "Biblioteca"</li>
                            <li>Pesquise por "YouTube Data API v3" e clique nela</li>
                            <li>Clique em "Ativar"</li>
                            <li>Após ativar, clique em "Criar credenciais"</li>
                            <li>Selecione "Chave de API" no menu</li>
                            <li>Copie a chave gerada e cole no campo "Chave de API" do extrator</li>
                        </ol>
                        <p><strong>Observações importantes:</strong></p>
                        <ul>
                            <li>A chave de API é gratuita e tem uma cota diária generosa</li>
                            <li>Sua chave é armazenada apenas localmente no seu navegador</li>
                            <li>Você pode restringir o uso da sua chave no Console do Google Cloud</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>Desenvolvido para extrair dados de playlists do YouTube</p>
            <p>Código aberto disponível no <a href="https://github.com/seu-usuario/youtube-playlist-extractor" target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="js/youtube-extractor.js"></script>
    <script src="js/document-generator.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
